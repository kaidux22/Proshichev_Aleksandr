{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nexport let FriendListComponent = class FriendListComponent {\n  constructor(router, GetFriends) {\n    this.router = router;\n    this.GetFriends = GetFriends;\n    this.friends = [];\n    this.nonames = [];\n    this.fullfriends = [];\n    this.fullnonames = [];\n    this.idx = this.router.snapshot.params['id'];\n  }\n  ngOnInit() {\n    this.GetFriends.GetUsers().subscribe(users => {\n      for (let i = 0; i < users.length; i++) {\n        if (users[i].id == this.idx) {\n          continue;\n        }\n        if (users[this.idx].friends.indexOf(users[i].id) == -1) {\n          if (users[i].status == \"blocked\") {\n            continue;\n          }\n          this.fullnonames.push(users[i]);\n          this.nonames.push(users[i]);\n        } else {\n          this.fullfriends.push(users[i]);\n          this.friends.push(users[i]);\n        }\n      }\n    });\n  }\n  Search(ev) {\n    if (this.search == '') {\n      this.friends = this.fullfriends;\n      this.nonames = this.fullnonames;\n    }\n    this.friends = [];\n    this.nonames = [];\n    for (let i = 0; i < this.fullfriends.length; i++) {\n      let name = this.fullfriends[i].lastName + \" \" + this.fullfriends[i].name;\n      if (name.indexOf(this.search) != -1) {\n        this.friends.push(this.fullfriends[i]);\n      }\n    }\n    for (let i = 0; i < this.fullnonames.length; i++) {\n      let name = this.fullnonames[i].lastName + \" \" + this.fullnonames[i].name;\n      if (name.indexOf(this.search) != -1) {\n        this.nonames.push(this.fullnonames[i]);\n      }\n    }\n  }\n};\nFriendListComponent = __decorate([Component({\n  selector: 'friend-list',\n  templateUrl: './friend-list.component.html',\n  styleUrls: ['./friend-list.component.less']\n})], FriendListComponent);","map":{"version":3,"names":["Component","FriendListComponent","constructor","router","GetFriends","friends","nonames","fullfriends","fullnonames","idx","snapshot","params","ngOnInit","GetUsers","subscribe","users","i","length","id","indexOf","status","push","Search","ev","search","name","lastName","__decorate","selector","templateUrl","styleUrls"],"sources":["/home/kaidux22/Desktop/git_work/Proshichev_Aleksandr/University/Web/social-network/Client/src/app/components/friend-list/friend-list.component.ts"],"sourcesContent":["import { Component, Input, OnInit } from '@angular/core';\nimport { IUser } from 'src/app/models/interfaces';\nimport { ActivatedRoute } from '@angular/router';\nimport { UserGet } from 'src/app/services/user.service';\n\n@Component({\n  selector: 'friend-list',\n  templateUrl: './friend-list.component.html',\n  styleUrls: ['./friend-list.component.less']\n})\nexport class FriendListComponent implements OnInit{\n  friends : IUser[] = []\n  nonames : IUser[] = []\n  fullfriends : IUser[] = []\n  fullnonames : IUser[] = []\n  idx : number\n  search : string\n\n  constructor(private router : ActivatedRoute, private GetFriends : UserGet){\n    this.idx = this.router.snapshot.params['id']\n  }\n\n  ngOnInit(): void {\n    this.GetFriends.GetUsers().subscribe(users => {\n        for(let i = 0; i < users.length; i++){\n          if(users[i].id == this.idx){\n            continue\n          }\n\n          if(users[this.idx].friends.indexOf(users[i].id) == -1){\n            if(users[i].status == \"blocked\"){\n              continue\n            }\n            this.fullnonames.push(users[i])\n            this.nonames.push(users[i])\n          }\n          else{\n            this.fullfriends.push(users[i])\n            this.friends.push(users[i])\n          }\n\n        }\n    })\n\n  }\n\n  Search(ev : any): void{\n    if(this.search == ''){\n      this.friends = this.fullfriends\n      this.nonames = this.fullnonames\n    }\n\n    this.friends = []\n    this.nonames = []\n\n    for(let i = 0; i < this.fullfriends.length; i++){\n      let name = this.fullfriends[i].lastName + \" \" + this.fullfriends[i].name\n\n      if(name.indexOf(this.search) != -1){\n        this.friends.push(this.fullfriends[i])\n      }\n    }\n\n    for(let i = 0; i < this.fullnonames.length; i++){\n      let name = this.fullnonames[i].lastName + \" \" + this.fullnonames[i].name\n\n      if(name.indexOf(this.search) != -1){\n        this.nonames.push(this.fullnonames[i])\n      }\n    }\n  } \n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}